{% extends "pragmatic-translations/_layout" %}

{% set title = "Importar/exportar"|t('pragmatic-translations') %}

{% set selectedTab = 'import-export' %}

{% set crumbs = [
    { label: "Translations"|t('pragmatic-translations'), url: url('pragmatic-translations') },
    { label: "Importar/exportar"|t('pragmatic-translations'), url: url('pragmatic-translations/import-export') },
] %}

{% block content %}

  <div style="margin-top: 12px;">
    <h2>Exportar</h2>
    <p class="light">Descarga todas las traducciones en el formato que necesites.</p>
    <div class="btngroup" style="margin-top: 8px;">
      <a class="btn" href="{{ url('pragmatic-translations/export', { format: 'csv' }) }}">Export CSV</a>
      <a class="btn" href="{{ url('pragmatic-translations/export', { format: 'json' }) }}">Export JSON</a>
      <a class="btn" href="{{ url('pragmatic-translations/export', { format: 'php' }) }}">Export PHP</a>
    </div>
  </div>

  <hr style="margin: 24px 0;">

  <div>
    <h2>Importar</h2>
    <p class="light">Sube un archivo CSV, JSON o ZIP de PHP para actualizar las traducciones.</p>
    <form method="post" enctype="multipart/form-data" accept-charset="UTF-8" style="margin-top: 8px;">
      {{ csrfInput() }}
      {{ actionInput('pragmatic-translations/translations/import') }}
      {{ redirectInput('pragmatic-translations/import-export', { group: group, q: search, perPage: perPage }) }}
      <div class="flex" style="gap: 8px; align-items: flex-end;">
        <div>
          <label for="format">Formato</label>
          <div class="select">
            <select id="format" name="format">
              <option value="csv">CSV</option>
              <option value="json">JSON</option>
              <option value="php">PHP (ZIP)</option>
            </select>
          </div>
        </div>
        <input type="file" name="file" required>
        <button class="btn" type="submit">Subir</button>
      </div>
    </form>
  </div>
{% endblock %}
