{% extends "pragmatic-translations/_layout" %}

{% set title = "Options"|t('pragmatic-translations') %}
{% set selectedTab = 'options' %}

{% set crumbs = [
    { label: "Translations"|t('pragmatic-translations'), url: url('pragmatic-translations', { site: selectedSite.handle }) },
    { label: "Options"|t('pragmatic-translations'), url: url('pragmatic-translations/options', { site: selectedSite.handle }) },
] %}

{% import "_includes/forms" as forms %}

{% block content %}

  <form method="post" accept-charset="UTF-8" style="margin-top: 12px;">
    {{ csrfInput() }}
    {{ actionInput('pragmatic-translations/translations/save-options') }}
    {{ redirectInput('pragmatic-translations/options', { site: selectedSite.handle }) }}

    {% if not autotranslateAvailable %}
      <p class="warning">{{ autotranslateDisabledReason }}</p>
    {% endif %}

    {{ forms.lightswitchField({
      label: "Auto-translate fields"|t('pragmatic-translations'),
      instructions: "Enable or disable the option to translate fields from another site."|t('pragmatic-translations'),
      name: 'settings[enableAutotranslate]',
      on: settings.enableAutotranslate,
      disabled: not autotranslateAvailable
    }) }}

    <div class="buttons">
      <button class="btn submit" type="submit">{{ "Save"|t('pragmatic-translations') }}</button>
    </div>
  </form>
{% endblock %}
